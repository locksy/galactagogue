"use strict";var t=function(t){return"number"==typeof t},e=function(t){return"string"==typeof t},n=function(){};if("undefined"!=typeof window&&void 0!==window.document&&"DeviceOrientationEvent"in window){var a=Math.PI/180,i={orientationInitial:null,orientation:{alpha:null,beta:null,gamma:null},viewport:{width:window.innerWidth,height:window.innerHeight},origin:{x:0,y:0,z:300},patterns:{noise:function(t,e){var n=document.createElement("canvas");n.width=t,n.height=e;for(var a=n.getContext("2d"),i=0;i<t;i++)for(var r=0;r<e;r++)a.fillStyle="rgba(0, 0, 0, "+Math.random()+")",a.fillRect(i,r,1,1);return n}(64*window.devicePixelRatio,64*window.devicePixelRatio)},drawers:[]};n=function(t,e){return("string"==typeof t?Array.from(document.querySelectorAll(t)):Array.isArray(t)?t:[t]).map(function(t){return i.drawers.push(r(t,e))})};var r=function(t,e){void 0===e&&(e={});var n=o(t,e),a={read:function(){n.dirty&&(function(){n.styles=getComputedStyle(t);var e=p(n);a.write=function(t,n){e(t,n)}}(),n.dirty=!1)},write:function(){}};return a},o=function(e,n){var a=n.gradient;void 0===a&&(a={});var i=n.pattern;void 0===i&&(i={});var r=c(a.colors||[["#fff",1],[.5,"#fff",0]]),o={x:a.flip&&a.flip.x?-1:1,y:a.flip&&a.flip.y?-1:1},p=t(i.opacity)?i.opacity:.25;return{type:n.type||"background",dirty:!0,styles:null,element:e,gradient:{type:a.type||"radial",flip:o,angle:a.angle||null,steps:r,scalar:a.scalar||{x:1,y:1}},pattern:{type:i.type||"none",data:i.type?l(i.type,p).toDataURL():null,opacity:p,size:{width:64,height:64}}}},l=function(t,e){var n=i.patterns[t];if(!n)return null;var a=document.createElement("canvas");a.width=n.width,a.height=n.height;var r=a.getContext("2d");return r.fillStyle="rgba(0, 0, 0, "+(1-e)+")",r.fillRect(0,0,a.width,a.height),r.drawImage(n,0,0),a},c=function(n){return n.map(function(t){return e(t)?[t]:t}).map(function(n){return{color:e(n[0])?n[0]:n[1],opacity:t(n[n.length-1])?n[n.length-1]:null,stop:t(n[0])?n[0]:null}}).map(function(t,e,n){return Object.assign({},t,{opacity:null===t.opacity?1:t.opacity,stop:null===t.stop?e*(1/(n.length-1)):t.stop})}).map(function(t){return Object.assign({},t,{colorRGBA:d(t.color,t.opacity)})})},p=function(t){var e=t.type,n=t.element,a=t.styles,i=t.pattern,r=t.gradient;n.style.position="static"===a.position?"relative":a.position;var o=document.createElement("span");o.className="gradient--wrapper";var l="position:absolute;pointer-events:none;user-select:none;background-attachment:fixed;",c=document.createElement("span"),p=c.style;if("border"===e){var d=parseFloat(a.borderTopWidth),u=parseFloat(a.borderLeftWidth),s=parseFloat(a.borderRightWidth),f=parseFloat(a.borderBottomWidth),h=parseFloat(a.borderTopLeftRadius),m=a.backgroundColor;l+="border-radius:"+h+"px;\n            left:"+-u+"px;\n            top:"+-d+"px;\n            right:"+-s+"px;\n            bottom:"+-f+"px;";var g=document.createElement("div");g.style.cssText="position:absolute;border-radius:"+(h-u)+"px;background-color: "+m+" \n            left:"+u+"px;\n            top:"+d+"px;\n            right:"+s+"px;\n            bottom:"+f+"px;",c.appendChild(g)}else"background"===e?l+="left:0;top:0;width:100%;height:100%;border-radius:"+parseFloat(a.borderTopLeftRadius)+"px;":"text"===e&&(c.innerHTML=n.innerHTML,l+="color:transparent;background-clip:text;-webkit-background-clip:text;-moz-background-clip:text;");if(i.data){var y="url("+i.data+") 0 0 / "+i.size.width+"px "+i.size.height+"px;";l+="mask: "+y+"; -moz-mask: "+y+"; -webkit-mask: "+y+";"}if(p.cssText=l,o.appendChild(c),n.insertAdjacentElement("afterbegin",o),"linear"===r.type)return function(t,e){var n=t*r.flip.x+e*r.flip.y/2,a=r.steps.map(function(t){return t.colorRGBA+" "+100*(n+t.stop)+"%"}).join(", ");p.backgroundImage="linear-gradient("+r.angle+", "+a+")"};var v=r.steps.map(function(t){return t.colorRGBA+" "+100*t.stop+"%"}).join(", ");return function(t,e){p.backgroundImage="radial-gradient(100vmax 100vmax at "+100*(.5+t*r.flip.x*r.scalar.x)+"% "+100*(.5+e*r.flip.y*r.scalar.y)+"%, "+v+")"}},d=function(t,e){return"rgba"+u(t).slice(3,-1)+", "+e+")"},u=function(t){if(/rgb\(/.test(t))return t;var e=document.createElement("div");e.style.cssText="display:none;color:"+t,document.body.appendChild(e);var n=getComputedStyle(e).color;return e.parentNode.removeChild(e),n},s=function(t){return t*a},f=function(){!function(){if(i.orientationInitial){var t=i.orientation,e=i.orientationInitial,n=i.origin,a=i.viewport,r=t.alpha-e.alpha,o=t.beta-e.beta,l=t.gamma-e.gamma,c=n.x,p=n.y,d=n.z;c=c*Math.cos(s(r))-p*Math.sin(s(r)),p=(p=p*Math.cos(s(r))+c*Math.sin(s(r)))*Math.cos(s(o))-d*Math.sin(s(o)),d=(d=d*Math.cos(s(o))+p*Math.sin(s(o)))*Math.cos(s(l))-c*Math.sin(s(l)),c=c*Math.cos(s(l))+d*Math.sin(s(l));var u=a.width/a.height,f=c/(300*u),h=p/(300/u);i.drawers.forEach(function(t){return t.read()}),i.drawers.forEach(function(t){return t.write(f,h)})}}(),requestAnimationFrame(f)};document.addEventListener("visibilitychange",function(t){i.orientationInitial=null}),window.addEventListener("deviceorientation",function(t){null!==t.alpha&&(i.orientation.alpha=t.alpha,i.orientation.beta=t.beta,i.orientation.gamma=t.gamma,null===i.orientationInitial&&(i.orientationInitial={alpha:t.alpha,beta:t.beta,gamma:t.gamma},f()))})}module.exports=n;
//# sourceMappingURL=gyro-gradient.js.map
